'use strict';var util_1 = require('../util');
var ShadowDomCompileStep = (function () {
    function ShadowDomCompileStep(_shadowDomStrategy, _view) {
        this._shadowDomStrategy = _shadowDomStrategy;
        this._view = _view;
    }
    ShadowDomCompileStep.prototype.process = function (parent, current, control) {
        if (util_1.isElementWithTag(current.element, util_1.NG_CONTENT_ELEMENT_NAME)) {
            current.inheritedProtoView.bindNgContent();
        }
        else if (util_1.isElementWithTag(current.element, 'style')) {
            this._processStyleElement(current, control);
        }
        else {
            var componentId = current.isBound() ? current.inheritedElementBinder.componentId : null;
            this._shadowDomStrategy.processElement(this._view.componentId, componentId, current.element);
        }
    };
    ShadowDomCompileStep.prototype._processStyleElement = function (current, control) {
        this._shadowDomStrategy.processStyleElement(this._view.componentId, this._view.templateAbsUrl, current.element);
        // Style elements should not be further processed by the compiler, as they can not contain
        // bindings. Skipping further compiler steps allow speeding up the compilation process.
        control.ignoreCurrentElement();
    };
    return ShadowDomCompileStep;
})();
exports.ShadowDomCompileStep = ShadowDomCompileStep;
//# sourceMappingURL=shadow_dom_compile_step.js.map